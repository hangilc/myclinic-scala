FROM debian:bullseye
RUN apt update
RUN apt install -y openjdk-11-jdk
COPY pack /pack/
RUN mkdir /portal-tmp
COPY changclinic-data /myclinic-data
ENV MYCLINIC_PORTAL_TMP_DIR /portal-tmp
ENV MYCLINIC_DATA=/myclinic-data
ENV MYCLINIC_DATA_DIR=$MYCLINIC_DATA
ENV MYCLINIC_CONFIG=$MYCLINIC_DATA_DIR/config
ENV MYCLINIC_CONFIG_DIR=$MYCLINIC_CONFIG
ENV MYCLINIC_PAPER_SCAN_DIR=$MYCLINIC_DATA/paper-scan
ENV MYCLINIC_SHOHOUSEN_DIR=$MYCLINIC_DATA/shohousen
ENV MYCLINIC_FAXED_SHOHOUSEN_DATA_DIR=$MYCLINIC_DATA/medremoting/shohousen-originals
ENV MYCLINIC_FONT_DIR=$MYCLINIC_DATA/fonts
ENV MYCLINIC_SHUJII_DIR=$MYCLINIC_DATA/shujii
ENV MYCLINIC_PHARMACY_LIST=$MYCLINIC_DATA/pharmacies.txt
ENV MYCLINIC_REFER_DIR=$MYCLINIC_DATA/refer
ENV MYCLINIC_RCPT_DIR=$MYCLINIC_DATA/rcpt
# ENV MYCLINIC_DB_HOST=localhost
# ENV MYCLINIC_BACKUP_S3_BUCKET=myclinic-tokyo-backup
# ENV MYCLINIC_DB_PASS=chang3904
# ENV MYCLINIC_DB_PORT=3306
# ENV MYCLINIC_PORTAL_TMP_DIR=/home/hangil/portal-tmp
# ENV MYCLINIC_DB_USER=hangil
# ENV MYCLINIC_SERVICE=http://localhost:28080/json
# ENV TWILIO_PHONE=+815036155180
# ENV TWILIO_SID=AC01a4085684f7521a9bdf7bbd2e309d63
# ENV TWILIO_TOKEN=0abb072c491178bf2477c8ae71fe2d1c
# ENV MYCLINIC_DB_S3_BUCKET=changclinic-db-store
WORKDIR /pack
CMD ["/pack/bin/main"]




